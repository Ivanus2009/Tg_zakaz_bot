# –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –∫–∞—Ñ–µ

## –ü–æ–ª—É—á–µ–Ω–∏–µ guid —Ç–æ—Ä–≥–æ–≤–æ–π —Ç–æ—á–∫–∏ YTimes

–í –ø—Ä–æ–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω –º–æ–¥—É–ª—å `src/ytimes/api_client.py`, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∫ –≤–Ω–µ—à–Ω–µ–º—É API YTimes.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:  
   `python3 -m venv .venv && source .venv/bin/activate && pip install -r requirements.txt`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `example.env` –≤ `.env`, –ø—Ä–æ–ø–∏—à–∏—Ç–µ `YT_API_KEY` –∏ –¥–æ–±–∞–≤—å—Ç–µ `YT_SHOP_GUID` (guid –Ω—É–∂–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Ç–æ—á–∫–∏).
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –ø–æ API –≤ –∫–∞–±–∏–Ω–µ—Ç–µ YTimes (`–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏`) –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
4. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ Python –¥–æ–±–∞–≤–ª—è—é—Ç `src` –≤ `PYTHONPATH` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–∏—á–µ–≥–æ –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

```python
from ytimes import YTimesAPIClient

client = YTimesAPIClient.from_env()
shops = client.list_shops()
guid = client.get_shop_guid_by_name("–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ñ–µ–π–Ω–∏")
print(guid)
print(client.default_shop_guid)  # guid –∏–∑ .env
```

–ö–ª—é—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ `.env` (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `YT_API_KEY`) –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization`.

### –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è guid

```bash
source .venv/bin/activate
python scripts/get_shop_guid.py          # —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ—á–µ–∫
python scripts/get_shop_guid.py -n "–ë–¶ –≠–∫—Å—Ç—Ä–∞–ü–ª–∞–∑–∞"   # guid –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–æ—á–∫–∏

# –ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ guid –≤ .env (YT_SHOP_GUID=...), –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ
python - <<'PY'
from ytimes import YTimesAPIClient
client = YTimesAPIClient.from_env()
print("GUID –∏–∑ .env:", client.default_shop_guid)
PY

# –°–ø–∏—Å–æ–∫ –∫–æ—Ñ–µ–π–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–æ—á–∫–∏
python scripts/list_coffee_items.py
```

## Telegram-–±–æ—Ç –¥–ª—è –∑–∞–∫–∞–∑–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ —É [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
   ```
   TELEGRAM_BOT_TOKEN=your_bot_token_here
   WEBAPP_URL=http://localhost:8000  # –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   ```

### –ó–∞–ø—É—Å–∫ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–í–∞–∂–Ω–æ:** Telegram Mini App —Ç—Ä–µ–±—É–µ—Ç HTTPS URL. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [ngrok](https://ngrok.com/).

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**

   ```bash
   source .venv/bin/activate
   uvicorn src.webapp.app:app --host 0.0.0.0 --port 8000
   ```

2. **–í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ ngrok:**

   ```bash
   ngrok http 8000
   ```

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL –∏–∑ ngrok** –∏ –æ–±–Ω–æ–≤–∏—Ç–µ `.env`:

   ```
   WEBAPP_URL=https://xxxx-xx-xx-xx-xx.ngrok-free.app
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Telegram-–±–æ—Ç–∞:**

   ```bash
   source .venv/bin/activate
   python src/bot/bot.py
   ```

5. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram** –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üõí –û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é"

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–º. –≤ [QUICKSTART.md](QUICKSTART.md)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–º. –≤ [ARCHITECTURE.md](ARCHITECTURE.md)

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

- `src/bot/` - Telegram-–±–æ—Ç (aiogram)
- `src/webapp/` - FastAPI —Å–µ—Ä–≤–µ—Ä –¥–ª—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `src/database/` - SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `templates/index.html` - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ (`/start`)
2. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üõí –û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é"
4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–µ–Ω—é –∏–∑ YTimes
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã, –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –∑–∞–∫–∞–∑
6. –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ YTimes API

## –†–∞–∑–º–µ—â–µ–Ω–∏–µ –±–æ—Ç–∞

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—é –±–æ—Ç–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö —Å–º. –≤ [DEPLOYMENT.md](DEPLOYMENT.md)

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Railway (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [railway.app](https://railway.app)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –ü–æ–ª—É—á–∏—Ç–µ HTTPS URL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. –ì–æ—Ç–æ–≤–æ!

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã ngrok –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

- Cloudflare Tunnel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- LocalTunnel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- Serveo (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
