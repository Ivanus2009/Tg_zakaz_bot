# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Telegram-–±–æ—Ç–∞ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤

## –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

### 1. Telegram Bot (`src/bot/`)

- **bot.py** - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
- **handlers.py** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `aiogram 3.x`

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Telegram
- –û—Ç–∫—Ä—ã—Ç–∏–µ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∑–∞–∫–∞–∑—ã)

### 2. Web Application (`src/webapp/`)

- **app.py** - FastAPI —Å–µ—Ä–≤–µ—Ä –¥–ª—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **templates/index.html** - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ–Ω—é –∏ –∑–∞–∫–∞–∑–∞–º–∏

**API Endpoints:**

- `GET /api/menu` - –ø–æ–ª—É—á–∏—Ç—å –º–µ–Ω—é –∏–∑ –≥—Ä—É–ø–ø—ã "–ú–µ–Ω—é ( –æ–Ω–ª–∞–π–Ω –∑–∞–∫–∞–∑—ã )"
- `GET /api/supplements` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–æ–∫/–º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
- `POST /api/order` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑

### 3. Database (`src/database/`)

- **models.py** - –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (User, Order, CartItem)
- **db.py** - —Ä–∞–±–æ—Ç–∞ —Å SQLite –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü—ã:**

- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (telegram_id, –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ —Ç.–¥.)
- `orders` - –∑–∞–∫–∞–∑—ã (—Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —Å—Ç–∞—Ç—É—Å, —Å–≤—è–∑—å —Å YTimes)

## –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**

   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ (`/start`)
   - –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –¥–∞–Ω–Ω—ã–º Telegram
   - –ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É

2. **–û—Ç–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é:**

   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üõí –û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é"
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Web App)

3. **–í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤:**

   - –í –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –º–µ–Ω—é –∏–∑ YTimes API
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–ø–∏—Ç–∫–∏, —Ä–∞–∑–º–µ—Ä—ã, –¥–æ–±–∞–≤–∫–∏
   - –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä–∑–∏–Ω–∞

4. **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"
   - –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ YTimes API
   - –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –±–æ—Ç
   - –ë–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YTimes API

- –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ–Ω—é: `GET /menu/item/list?shopGuid=...`
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–±–∞–≤–æ–∫: `GET /menu/supplement/list?shopGuid=...`
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞: `POST /order/create` (–Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ YTimes)

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–º. `example.env`:

- `YT_API_KEY` - –∫–ª—é—á API YTimes
- `YT_SHOP_GUID` - GUID —Ç–æ—Ä–≥–æ–≤–æ–π —Ç–æ—á–∫–∏
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
- `WEBAPP_URL` - URL –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è)

## –ó–∞–ø—É—Å–∫

### –ë–æ—Ç:

```bash
python src/bot/bot.py
```

### –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
uvicorn src.webapp.app:app --host 0.0.0.0 --port 8000
```

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

- [ ] –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä–∑–∏–Ω—ã –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [ ] –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –¥–æ–±–∞–≤–æ–∫
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –≤ YTimes API
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
